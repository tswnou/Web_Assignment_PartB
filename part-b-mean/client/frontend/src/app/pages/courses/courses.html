<!DOCTYPE html>
<html lang="en">
<head>
    <!-- HTML -->
    <meta charset="UTF-8">

    <!-- κινητά  tablets -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Τίτλος r -->
    <title>Courses | E-Learning</title>

    <!--  CSS  -->
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/theme.css">
    <link rel="stylesheet" href="assets/css/layout.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <link rel="stylesheet" href="assets/css/courses.css">
</head>

<body class="courses-page">

<header class="header">
    <div class="container header-container">

        <!-- logo -->
        <div class="logo">
            <a href="index.html"><img src="assets/img/logo.png" alt="Logo"></a>
        </div>

        <!-- button gia menu -->
        <button class="menu-toggle" id="menu-toggle">
            <img src="assets/img/menu-icon.png" alt="menu">
        </button>

        <!--  menu  -->
        <nav class="nav" id="main-nav">
            <ul>
                <li><a href="index.html">Home</a></li>

                <li><a class="active" href="courses.html">Courses</a></li>

                <li><a href="books.html">Books & Videos</a></li>
                <li><a href="about.html">About Us</a></li>

                <li><a href="register.html" class="btn-primary">Register</a></li>
            </ul>
        </nav>
    </div>
</header>


<main class="container">

    <!--  HERO SECTION  -->
    <section class="courses-hero">

        <!-- Τίτλος   + περιγραφή  -->
        <h2 class="page-header">All Courses</h2>
        <p class="page-description">Browse all learning tracks and categories.</p>

        <!--  επιλογή κατηγορίας μαθημάτων -->
        <div class="filter-box">
            <label>Filter by Study Track:</label>

            <!--  dropdown  -->
            <div class="custom-select" id="trackSelect">
                <div class="selected">All Tracks</div>

                <!--  options  όταν  user ανοίγει το dropdown -->
                <div class="options">
                    <div class="option">All Tracks</div>
                    <div class="option">Data Science & Applied Math</div>
                    <div class="option">Operations Research</div>
                    <div class="option">Applied Mathematics</div>
                    <div class="option">Theoretical Computer Science</div>
                    <div class="option">Systems & Networks</div>
                    <div class="option">Software Systems</div>
                    <div class="option">Data & Knowledge Management</div>
                    <div class="option">Cybersecurity</div>
                </div>
            </div>
        </div>

        <div class="courses-grid" id="coursesGrid"></div>

    </section>

</main>

<!-- JavaScript-->
<script src="assets/js/ui/menu.js"></script>

<!--   πίνακας με  μαθήματα  -->
<script src="assets/js/data/courses.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {

    const grid = document.getElementById("coursesGrid");

    
    function renderCourses(track = "All Tracks") {
        grid.innerHTML = ""; 

        const filtered = track === "All Tracks"
            ? courses                    // δείχνουμε όλα
            : courses.filter(c => c.category === track); // δείχνουμε μόνο όσα έχουν αυτή την κατηγορία

        // Δημιουργία καρτών μαθημάτων 
        filtered.forEach(course => {
            const card = document.createElement("div");
            card.className = "course-card";

            // HTML δομή  κάρτας μαθήματος
            card.innerHTML = `
                <h3>${course.title}</h3>
                <p class="description">${course.description}</p>
                <span class="category-tag">${course.category}</span>

                <!-- Κουμπί για μετάβαση -> σελίδα  λεπτομέρειες  μαθήματος -->
                <a class="btn-secondary" href="course-details.html?id=${course.id}">
                    Learn More
                </a>
            `;

            grid.appendChild(card);
        });
    }

    //  φόρτωση όλων  μαθημάτων
    renderCourses();

    //  Custom Dropdown  
    const select = document.getElementById("trackSelect");
    const selected = select.querySelector(".selected");
    const optionsBox = select.querySelector(".options");
    const options = select.querySelectorAll(".option");

    // Άνοιγμα  κλείσιμο dropdown
    selected.addEventListener("click", () => {
        select.classList.toggle("open");
        optionsBox.style.display =
            optionsBox.style.display === "block" ? "none" : "block";
    });

    // Επιλογή κατηγορίας
    options.forEach(option => {
        option.addEventListener("click", () => {
            selected.textContent = option.textContent; // Εμφάνιση επιλεγμένης τιμής
            optionsBox.style.display = "none";
            select.classList.remove("open");

            // Φιλτράρουμε  μαθήματα
            renderCourses(option.textContent);
        });
    });

    // Κλείσιμο dropdown 
    document.addEventListener("click", (e) => {
        if (!select.contains(e.target)) {
            optionsBox.style.display = "none";
            select.classList.remove("open");
        }
    });

});
</script>

</body>
</html>
